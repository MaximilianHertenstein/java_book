<script>
  // Configure Thebe BEFORE loading the library
  window.thebeConfig = {
    requestKernel: false,  // Disable auto-bootstrap, we'll do it manually
    reuseExistingServer: false,  // Don't reuse cached/saved Binder sessions
    binderOptions: {
      repo: "MaximilianHertenstein/java_book",
      ref: "main",
        //binderUrl: "http://localhost:8888",
      //binderUrl: "https://hub.2i2c.mybinder.org",
       binderUrl: "https://mybinder.org"
    },
    kernelOptions: {
      name: "python3"
    },
    selector: "pre[data-executable]",
  };

  // Mark Python code blocks BEFORE Thebe library loads
  // This ensures they are found when Thebe initializes
  (function () {
    const markPythonBlocks = () => {
      document.querySelectorAll("pre code.language-python").forEach((codeBlock) => {
        const pre = codeBlock.parentElement;
        if (!pre.hasAttribute('data-executable')) {
          pre.setAttribute("data-executable", "true");
          pre.setAttribute("data-language", "python");
        }
      });
    };

    // Try marking immediately (may not work if DOM not ready)
    if (document.readyState === 'interactive' || document.readyState === 'complete') {
      markPythonBlocks();
    }

    // Also mark on DOMContentLoaded
    document.addEventListener("DOMContentLoaded", markPythonBlocks);
  })();
</script>
<script src="https://unpkg.com/thebe@latest/lib/index.js"></script>
<!-- Load dark CodeMirror theme -->
<style>
  /* Make Thebe cells look exactly like plain mdbook code blocks */


   .CodeMirror {
    height: auto !important;
  }

   .CodeMirror-linenumber {
    display: none !important;
    visibility: hidden !important;
  }

  .thebelab-output .jp-OutputArea-output {
    margin-top: 0.5em;

    font-family: var(--mono-font);
  }
</style>